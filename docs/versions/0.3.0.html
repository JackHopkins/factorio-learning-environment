<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Factorio Learning Environment - v0.3.0</title>

    <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet" />

    <link rel="stylesheet" href="../static/css/bulma.min.css" />
    <link rel="stylesheet" href="../static/css/bulma-carousel.min.css" />
    <link rel="stylesheet" href="../static/css/bulma-slider.min.css" />
    <link rel="stylesheet" href="../static/css/fontawesome.all.min.css" />
    <link rel="stylesheet" href="../static/css/academicons.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css" />
    <link rel='shortcut icon' type='image/x-icon' href='../favicon.ico' />
    <style>
        .math-block {
            margin: 20px 0;
            padding: 10px;
            background-color: #f9f9f9;
            border-left: 3px solid #2196F3;
        }
        .definition {
            margin: 10px 0;
            padding: 5px;
        }
        .note {
            font-style: italic;
            color: #666;
            margin: 10px 0;
        }
        .feature-box {
            border-left: 3px solid #2196F3;
            padding: 10px 15px;
            margin: 15px 0;
            background-color: #f8f9fa;
        }
        .highlight {
            background-color: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .heatmap-container {
            text-align: center;
            margin: 40px 0;
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .heatmap-container img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .complexity-low { color: #27ae60; font-weight: 600; }
        .complexity-medium { color: #f39c12; font-weight: 600; }
        .complexity-high { color: #e74c3c; font-weight: 600; }
        .entity-icon {
            width: 32px;
            height: 32px;
            margin-right: 10px;
            vertical-align: middle;
            border-radius: 4px;
        }
        .entity-name {
            font-weight: 500;
            color: #2c3e50;
            display: inline-flex;
            align-items: center;
        }
        .complexity-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9em;
            text-align: center;
            min-width: 40px;
        }
        .complexity-extreme {
            background-color: #d1ecf1;
            color: #0c5460;
        }

        /* Tabbed Examples Section */
        .examples-section {
            margin: 40px 0;
        }
        .tabs-container {
            border-bottom: 2px solid #e0e0e0;
            margin-bottom: 0;
            display: flex;
            gap: 0;
        }
        .tab-button {
            padding: 15px 30px;
            background: #f5f5f5;
            border: none;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            color: #666;
            border-top: 2px solid transparent;
            border-left: 1px solid #e0e0e0;
            transition: all 0.3s ease;
            position: relative;
            bottom: -2px;
        }
        .tab-button:first-child {
            border-left: none;
        }
        .tab-button:hover {
            background: #e8e8e8;
            color: #333;
        }
        .tab-button.active {
            background: white;
            color: #2196F3;
            border-bottom: 2px solid white;
            border-top: 2px solid #2196F3;
        }
        .tab-content {
            display: none;
            padding: 30px;
            background: white;
            border: 1px solid #e0e0e0;
            border-top: none;
            animation: fadeIn 0.3s ease;
        }
        .tab-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .example-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-top: 20px;
        }
        @media (max-width: 768px) {
            .example-grid {
                grid-template-columns: 1fr;
            }
        }
        .example-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #2196F3;
        }
        .example-card h4 {
            margin: 0 0 15px 0;
            color: #2196F3;
            font-size: 1.1em;
            font-weight: 600;
        }
        .example-card pre {
            background: #fff;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 0.9em;
            line-height: 1.5;
            margin: 0;
            max-height: 500px;
            overflow-y: auto;
        }
        .example-card code {
            font-family: 'Courier New', monospace;
            color: #333;
        }
        /* Python syntax highlighting with highlight.js */
        .example-card pre code.hljs {
            padding: 15px;
            border-radius: 4px;
            font-size: 0.9em;
            line-height: 1.6;
            max-height: 500px;
            overflow-y: auto;
            display: block;
        }
        /* Enhanced syntax colors for better visibility */
        .hljs-title.function_ {
            color: #4078f2 !important;
            font-weight: 500;
        }
        .hljs-built_in {
            color: #0184bc !important;
        }
        .hljs-keyword {
            color: #a626a4 !important;
        }
        .hljs-string {
            color: #50a14f !important;
        }
        .hljs-number {
            color: #986801 !important;
        }
        .hljs-comment {
            color: #a0a1a7 !important;
            font-style: italic;
        }
        .example-image {
            width: 100%;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin: 15px 0;
        }
        .full-width-card {
            grid-column: 1 / -1;
        }
        .result-card {
            background: #e8f5e9;
            border-left-color: #4caf50;
        }
        .result-card h4 {
            color: #4caf50;
        }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script defer src="../static/js/fontawesome.all.min.js"></script>
    <script src="../static/js/bulma-carousel.min.js"></script>
    <script src="../static/js/bulma-slider.min.js"></script>
    <script src="../static/js/index.js"></script>

    <!-- Highlight.js for syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>

    <script>
        function switchTab(event, tabId) {
            // Hide all tab contents
            const tabContents = document.getElementsByClassName('tab-content');
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }

            // Remove active class from all buttons
            const tabButtons = document.getElementsByClassName('tab-button');
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove('active');
            }

            // Show the selected tab content
            document.getElementById(tabId).classList.add('active');

            // Add active class to the clicked button
            event.currentTarget.classList.add('active');
        }

        // Initialize syntax highlighting when page loads
        document.addEventListener('DOMContentLoaded', (event) => {
            // Configure highlight.js to not auto-detect and preserve manual spans
            hljs.configure({ignoreUnescapedHTML: true});

            // Highlight all code blocks
            document.querySelectorAll('pre code.language-python').forEach((block) => {
                hljs.highlightElement(block);
            });
        });
    </script>
</head>
<body>
    <section class="hero">
        <div class="hero-body">
            <div class="container is-max-desktop">
                <div class="columns is-centered">
                    <div class="column has-text-centered">
                        <h1 class="title is-1 publication-title">Factorio Learning Environment</h1>
                        <h2 class="title is-2">Version 0.3.0 Release</h2>

                        <div class="is-size-5 publication-authors">
                            <span class="author-block">
                                SDK Upgrades and Benchmarking Progress
                            </span>
                        </div>

                        <div class="column has-text-centered">
                            <div class="publication-links">
                                <span class="link-block">
                                    <a target="_blank" href="https://github.com/JackHopkins/factorio-learning-environment" class="external-link button is-normal is-rounded is-dark">
                                        <span class="icon">
                                            <i class="fab fa-github"></i>
                                        </span>
                                        <span>Code</span>
                                    </a>
                                </span>
                                <span class="link-block">
                                    <a target="_blank" href="../leaderboard" class="external-link button is-normal is-rounded is-dark">
                                        <span class="icon">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="#ffffff" d="M353.8 54.1L330.2 6.3c-3.9-8.3-16.1-8.6-20.4 0L286.2 54.1l-52.3 7.5c-9.3 1.4-13.3 12.9-6.4 19.8l38 37-9 52.1c-1.4 9.3 8.2 16.5 16.8 12.2l46.9-24.8 46.6 24.4c8.6 4.3 18.3-2.9 16.8-12.2l-9-52.1 38-36.6c6.8-6.8 2.9-18.3-6.4-19.8l-52.3-7.5zM256 256c-17.7 0-32 14.3-32 32l0 192c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-192c0-17.7-14.3-32-32-32l-128 0zM32 320c-17.7 0-32 14.3-32 32L0 480c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-128c0-17.7-14.3-32-32-32L32 320zm416 96l0 64c0 17.7 14.3 32 32 32l128 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-128 0c-17.7 0-32 14.3-32 32z"/></svg>
                                        </span>
                                        <span>Leaderboard</span>
                                    </a>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <style>
        /* Improve video loading and display */
        .video-container {
            position: relative;
            width: 100%;
            min-height: 150px; /* Prevents layout shift while loading */
            background-color: #fff; /* Placeholder color while loading */
        }

        .video-container img {
            width: 100%;
            height: auto;
            object-fit: cover;
            background-color: #fff;
            display: block;
        }

        /* Improved video overlay styling */
        .video-overlay {
            position: absolute;
            bottom: 10px;
            left: 5px;
            background-color: rgba(0, 0, 0, 0.4); /* Darker background for better readability */
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 16px;
            max-width: 90%;
            z-index: 10;
            font-weight: 500; /* Slightly bolder text */
            box-shadow: 0 1px 3px rgba(0,0,0,0.3); /* Subtle shadow for better visibility */
        }
        .columns .column.video-column {
                padding: 0 3px;
                margin-bottom: 10px;
        }

        /* Responsive adjustments */
        @media (max-width: 767px) {
            .video-container {
                min-height: 120px; /* Smaller minimum height on mobile */
            }

            .video-overlay {
                font-size: 14px; /* Smaller font on mobile */
                padding: 4px 8px;
            }

            /* Optimize columns for mobile */
            .columns .column.video-column {
                padding: 0 3px; /* Tighter spacing on mobile */
            }
        }
    </style>
    <section class="section">
        <div class="container is-max-widescreen">
            <div class="rows">
                <div class="rows is-centered">
                    <div class="row is-full-width">
                        <div class="columns">
                            <div class="column has-text-left video-column">
                                <div class="video-container">
                                    <img src="../assets/videos/task_demo_1.gif" alt="Task Demo 1" width="100%">
                                    <div class="video-overlay"><span>Agent Building Factory</span></div>
                                </div>
                            </div>

                            <div class="column has-text-left video-column">
                                <div class="video-container">
                                    <img src="../assets/videos/task_demo_2.gif" alt="Task Demo 2" width="100%">
                                    <div class="video-overlay"><span>Resource Extraction</span></div>
                                </div>
                            </div>
                        </div>
                        <div class="columns">
                            <div class="column has-text-left video-column">
                                <div class="video-container">
                                    <img src="../assets/videos/task_demo_3.gif" alt="Task Demo 3" width="100%">
                                    <div class="video-overlay"><span>Automated Production</span></div>
                                </div>
                            </div>

                            <div class="column has-text-left video-column">
                                <div class="video-container">
                                    <img src="../assets/videos/task_demo_1.gif" alt="Task Demo 4" width="100%">
                                    <div class="video-overlay"><span>Complex Logistics</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <p style="padding-top: 10px; padding-left: 5px; font-size:110%">FLE 0.3.0: Agents autonomously building factories</p>
        </div>
    </section>

    <section class="section">
        <div class="container is-max-widescreen">
            <h2 class="title is-3"><span class="dvima">FLE 0.3.0: SDK Upgrade and Benchmarking Progress</span></h2>
            <p style="font-size: 110%;">
                The 0.3.0 release of the Factorio Learning Environment (FLE) marks a major step forward in our effort to build a robust, extensible benchmark for agents.
                Since the original FLE paper, where we demonstrated that frontier models struggle with spatial reasoning, constrained environments, and recovery; and the 0.2.0 release, which introduced multi-agency, backtracking agents, and vision, we have worked hard over summer to bring 0.3.0.
            </p>
            </br>
            <h3 class="subtitle is-4"><span class="dvima">Quickstart</span></h3>
            <p style="font-size: 110%;">Get started with FLE in three simple steps:</p>

            <div style="margin: 20px 0;">
                <div class="feature-box" style="background: #f8f9fa; padding: 20px; border-left: 4px solid #2196F3;">
                    <pre style="background: #1e1e1e; color: #d4d4d4; padding: 20px; border-radius: 8px; overflow-x: auto; margin: 10px 0; font-family: 'Courier New', Consolas, monospace; line-height: 1.6;"><code><span style="color: #6a9955;"># 1. Install FLE with uv</span>
<span style="color: #dcdcaa;">uv add</span> <span style="color: #ce9178;">factorio-learning-environment</span>

<span style="color: #6a9955;"># 2. Start a Factorio server cluster</span>
<span style="color: #dcdcaa;">fle cluster start</span>

<span style="color: #6a9955;"># 3. Run an evaluation (with API keys in .env)</span>
<span style="color: #dcdcaa;">fle eval</span> <span style="color: #c586c0;">--config</span> <span style="color: #ce9178;">configs/gym_run_config.json</span></code></pre>
                </div>
            </div>

            <p style="font-size: 110%; margin-top: 20px;">
                See the <a href="https://github.com/JackHopkins/factorio-learning-environment" target="_blank" style="color: #2196F3; text-decoration: underline;">GitHub repository</a> for detailed documentation and configuration options.
            </p>
            </br>
            <h3 class="subtitle is-4"><span class="dvima">Release Highlights</span></h3>

            <div class="content has-text-justified" style="margin-top:2em">
                <div class="feature-box">
                    <h4 class="title is-5">🤖 Claude Code Plays Factorio</h4>
                    <p>We bridged Claude Code into Factorio via FLE and are streaming it to showcase the state of the art of frontier agents in long-horizon interactive environments. More details <a href="#" style="color: #2196F3; text-decoration: underline;">here</a>.</p>
                </div>

                <div class="feature-box">
                    <h4 class="title is-5">🚀 Headless Environment Scaling</h4>
                    <p>FLE no longer depends on the Factorio game client, enabling massively scalable experimentation. Our new headless game renderer provides realistic pixel observations to facilitate multimodal agent research.</p>
                </div>

                <div class="feature-box">
                    <h4 class="title is-5">🏋️ OpenAI Gym Compatibility</h4>
                    <p>We standardized the FLE evaluation environment to conform to the OpenAI gym interface, making it extremely easy to integrate into existing research codebases. Examples from the observation and action spaces are shown below.</p>
                </div>

                <div class="feature-box">
                    <h4 class="title is-5">⚡ Developer and Research Tooling</h4>
                    <p>The FLE CLI makes running experiments as simple as 1-line shell commands. We also open-source our evaluation code with features like Weights and Biases logging, sweep resuming, and analysis tools.</p>
                </div>
            </div>

        </div>
    </section>

    <section class="section">
        <div class="container is-max-widescreen">
            <h2 class="title is-3"><span class="dvima">Benchmark Methodology and Results</span></h2>
            <p style="font-size: 110%;">
                For this release we replicated the methodology from the original FLE paper for the <b>lab-play</b> setting with some minor modifications.
            </p>
            <ul style="font-size: 110%; list-style: disc; margin-left: 40px;">
                <li>Evaluated the strongest general-purpose proprietary and open source models as of September 2025.</li>
                <li>Agents have a starting inventory with useful items for building functional factories.</li>
                <li>Agent harness is the same as previous versions: no backtracking or reflection logic.</li>
                <li>The task objective is to achieve production throughput targets: 16 per minute for solid items and 250 per minute for fluids.</li>
                <li>Trajectories are run for 64 program-level actions (reduced from 128).</li>
                <li>Reasoning is enabled at default settings for all models (previously was without reasoning).</li>
            </ul>
            <p style="font-size: 110%;">
                Model performance across tasks sorted by tech tree complexity. This visualization shows how model success correlates with the number of prerequisite technology nodes required.
            </p>

            <div class="heatmap-container">
                <img src="../assets/images/fle_0_3_0_combined_dependency_sorted_heatmap.png?v=5"
                     alt="FLE 0.3.0 Combined Model Performance Heatmap"
                     style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 8px 25px rgba(0,0,0,0.15);">
            </div>

            <div class="feature-box">
                <h4 class="title is-5">📊 Key Observations</h4>
                <ul style="font-size: 110%;">
                    <li><strong>Complexity Correlation:</strong> Model success rates generally decrease as task complexity increases</li>
                    <li><strong>Basic Tasks:</strong> Most models achieve success on low-complexity tasks (1-3 nodes)</li>
                    <li><strong>Advanced Challenges:</strong> High-complexity tasks (15+ nodes) show significant performance gaps between models</li>
                    <li><strong>Model Ranking:</strong> Performance hierarchy emerges clearly when tasks are sorted by dependency complexity</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="section">
        <div class="container is-max-widescreen">
            <h2 class="title is-3"><span class="dvima">Discussion</span></h2>
            <p style="font-size: 110%;">
                We tested with a basic agent harness to assess the models themselves. In our previous release we implemented a backtracking agent which achieved better results due to having a cleaned context. We encourage the community to create agent harnesses which improve upon the baseline model performance.
            </p>
            </br>
            <h4 class="title is-5">Key Findings</h4>
            <ul style="font-size: 110%;">
                <li><strong>Throughput vs Automation:</strong> Agents are achieving throughput as per our environment's measurements but it's not really automated for the harder tasks.</li>
                <li><strong>Success Rate Reporting:</strong> We still report the success rates in order to enable comparisons with previous models and environment releases.</li>
                <li><strong>Measurement Challenges:</strong> More systematic ways to measure throughput are needed in order to address the buffer problem, unlikely that it can be solved statically.</li>
            </ul>
            </br>
            <h4 class="title is-5">Error Analysis Breakdown</h4>
            <p style="font-size: 110%;">Common error patterns by category:</p>
            <ul style="font-size: 110%;">
                <li><strong>Invalid Python:</strong> Can't handle basic instructions</li>
                <li><strong>Type Errors:</strong> TypeError, AttributeError, ValueError - don't understand tool docs well enough</li>
                <li><strong>Inventory Management:</strong> insert_item not having enough in the inventory - not reasoning correctly about game state</li>
            </ul>
            </br>
            <h4 class="title is-5">Future Work</h4>
            <ul style="font-size: 110%;">
                <li><strong>Human Baseline:</strong> Establishing human performance benchmarks</li>
                <li><strong>METR Task Scaling:</strong> Setting up task scaling charts for systematic evaluation</li>
                <li><strong>Open Play Testing:</strong> We didn't run open play as this is prohibitively expensive to test for each model. However, we DID run open play on our best performing model, Claude.</li>
            </ul>

        </div>
    </section>

    <section class="section">
        <div class="container is-max-widescreen">
            <h2 class="title is-3"><span class="dvima">Limitations</span></h2>
            <p style="font-size: 110%;">
                Our evaluation revealed several key limitations in current model performance:
            </p>
            </br>
            <ul style="font-size: 110%;">
                <li><strong>Spatial Reasoning Challenges:</strong> Spatial reasoning is the biggest challenge for the base models. Models don't pick up enough things off the map when they're misplaced. This causes cascading errors and exacerbates issues with spatial reasoning. Agents struggle to maintain accurate mental models of the factory layout and frequently make placement errors.</li>
                </br>
                <li><strong>Limited Tool Extension:</strong> Models don't define their own functions and classes - instead relying on the out-of-the-box tools that are part of core FLE. Despite having access to a Python namespace for defining helper functions, agents rarely leverage this capability to build abstractions that could simplify complex tasks.</li>
                </br>
                <li><strong>Reward Hacking Behavior:</strong> Models reward-hack to avoid full automation. Despite being told to strive for full automation, continued progress towards the production targets reinforces the model's reliance on 'shuttling' resources around, which is easier than building functional logistics chains. This creates a local optimum where agents prefer manual intervention over proper factory design.</li>
                </br>
                <li><strong>Craft Item Overuse:</strong> Agents use craft_item liberally to create intermediate goods instead of assembly machines when the target item has a lot of dependencies (see Claude's partial success on production science pack). Since craft_item is run in fast mode with no real time cost, agents exploit this as a shortcut rather than building proper production infrastructure.</li>
            </ul>

        </div>
    </section>

    <section class="section">
        <div class="container is-max-widescreen">
            <h2 class="title is-3"><span class="dvima">Agent Trajectory Example</span></h2>
            <p style="font-size: 110%;">
                Illustrative example of an agent building an automatic iron gear wheel factory. The agent iteratively debugs and refines its factory design through programmatic interaction with the game environment.
            </p>

            <div class="examples-section">
                <div class="tabs-container">
                    <button class="tab-button active" onclick="switchTab(event, 'example1')">Step 3: Initial Mining Setup</button>
                    <button class="tab-button" onclick="switchTab(event, 'example2')">Step 5: Power Connection Fix</button>
                    <button class="tab-button" onclick="switchTab(event, 'example3')">Step 9: Inserter Power Debug</button>
                    <button class="tab-button" onclick="switchTab(event, 'example4')">Step 10: Belt Connection Error</button>
                    <button class="tab-button" onclick="switchTab(event, 'example5')">Step 13: Final Success</button>
                </div>

                <div id="example1" class="tab-content active">
                    <h3 class="title is-4">Step 3: Initial Mining Setup</h3>
                    <p>The agent sets up electric mining drills on an iron ore patch and connects them to electric furnaces for automated iron plate production.</p>

                    <div class="example-grid">
                        <div class="example-card">
                            <h4>⚡ Action Program</h4>
                            <pre><code class="language-python"># Find iron ore and setup mining
iron_pos = <span class="hljs-built_in">nearest</span>(Resource.IronOre)
<span class="hljs-built_in">print</span>(f"Found iron ore at {iron_pos}")

steam_engine = <span class="hljs-built_in">get_entity</span>(Prototype.SteamEngine,
                         <span class="hljs-built_in">Position</span>(x=2.5, y=8.5))

# Place 2 electric mining drills
drills = []
for i in range(2):
    drill_pos = <span class="hljs-built_in">Position</span>(
        x=drill_coords.left_top.x +
          Prototype.ElectricMiningDrill.WIDTH * i,
        y=drill_coords.left_top.y
    )
    drill = <span class="hljs-built_in">place_entity</span>(Prototype.ElectricMiningDrill,
                        position=drill_pos,
                        direction=Direction.DOWN)
    drills.append(drill)

    # Place furnace below each drill
    furnace = <span class="hljs-built_in">place_entity_next_to</span>(
        Prototype.ElectricFurnace,
        drill.position,
        direction=Direction.DOWN)

    # Connect to power
    <span class="hljs-built_in">connect_entities</span>(steam_engine, drill,
                    Prototype.MediumElectricPole)
    <span class="hljs-built_in">connect_entities</span>(steam_engine, furnace,
                    Prototype.MediumElectricPole)</code></pre>
                        </div>

                        <div class="example-card">
                            <h4>📊 Observation Result</h4>
                            <pre><code>### Inventory
- transport-belt: 500
- medium-electric-pole: 491
- pipe: 481
- coal: 480
- electric-mining-drill: 48
- electric-furnace: 8

### Entities
- ElectricityGroup: 1
  - voltage=12838700
- electric-furnace: 2
  - position=(15.5, 73.5), status=NO_POWER
    furnace_source={'iron-ore': 50}
  - position=(18.5, 73.5), status=NO_POWER
    furnace_source={'iron-ore': 47}
- electric-mining-drill: 2
  - position=(15.5, 70.5), status=WORKING
  - position=(18.5, 70.5), status=WORKING

### Production Flows (for entire previous step)
Inputs: coal: 3.00, water: 423.09, steam: 424.46
Outputs: iron-ore: 97.00, water: 422.10, steam: 423.09

### Game Info
- Elapsed Time: 0:04:02
- Ticks: 14569

### Task Status
⏳ IN PROGRESS
iron-gear-wheel throughput: 0/60 seconds

### Task Information
Goal: Create automatic iron-gear-wheel factory
      producing 16 iron-gear-wheel per 60 seconds
Task Key: iron_gear_wheel_throughput
Trajectory Length: 64

### Raw Output
Found iron ore at x=15.5 y=70.5
Placed electric mining drill 1 at x=15.5 y=70.5
Placed electric furnace at x=15.5 y=73.5
Connected drill 1 to power
Connected furnace 1 to power
Placed electric mining drill 2 at x=18.5 y=70.5
Placed electric furnace at x=18.5 y=73.5
Connected drill 2 to power
Connected furnace 2 to power</code></pre>
                        </div>

                        <div class="example-card">
                            <h4>🎮 Game State (Before)</h4>
                            <img src="../assets/images/v6113_iter3_before.png" alt="Before state" class="example-image" style="background: #e0e0e0;">
                            <p style="text-align: center; margin-top: 10px; font-style: italic; color: #666;">Placeholder: Add screenshot of initial game state</p>
                        </div>

                        <div class="example-card">
                            <h4>🎬 Game State (After)</h4>
                            <img src="../assets/images/v6113_iter3_after.gif" alt="After animation" class="example-image" style="background: #e0e0e0;">
                            <p style="text-align: center; margin-top: 10px; font-style: italic; color: #666;">Placeholder: Add GIF showing drills and furnaces operating</p>
                        </div>
                    </div>
                </div>

                <div id="example2" class="tab-content">
                    <h3 class="title is-4">Step 5: Power Connection Fix</h3>
                    <p>The agent discovers the furnaces have no power and debugs by placing power poles closer to them, then verifies they start smelting iron ore.</p>

                    <div class="example-grid">
                        <div class="example-card">
                            <h4>⚡ Action Program</h4>
                            <pre><code class="language-python"># Check power pole coverage
electricity_group = <span class="hljs-built_in">get_entities</span>(
    {Prototype.MediumElectricPole})
<span class="hljs-built_in">print</span>(f"Found {len(electricity_group)} power poles")

# Get the furnaces
furnace1 = <span class="hljs-built_in">get_entity</span>(Prototype.ElectricFurnace,
                     <span class="hljs-built_in">Position</span>(x=15.5, y=73.5))
furnace2 = <span class="hljs-built_in">get_entity</span>(Prototype.ElectricFurnace,
                     <span class="hljs-built_in">Position</span>(x=18.5, y=73.5))

# Place power poles directly next to furnaces
<span class="hljs-built_in">move_to</span>(furnace1.position)
pole1 = <span class="hljs-built_in">place_entity_next_to</span>(
    Prototype.MediumElectricPole,
    furnace1.position,
    direction=Direction.LEFT, spacing=1)

<span class="hljs-built_in">move_to</span>(furnace2.position)
pole2 = <span class="hljs-built_in">place_entity_next_to</span>(
    Prototype.MediumElectricPole,
    furnace2.position,
    direction=Direction.RIGHT, spacing=1)

# Wait for power to flow
<span class="hljs-built_in">sleep</span>(5)

# Check furnace status
furnace1 = <span class="hljs-built_in">get_entity</span>(Prototype.ElectricFurnace,
                     furnace1.position)
<span class="hljs-built_in">print</span>(f"Furnace 1 status: {furnace1.status}")
<span class="hljs-built_in">print</span>(f"Furnace 1 energy: {furnace1.energy}")

<span class="hljs-built_in">sleep</span>(10)  # Wait for smelting
<span class="hljs-built_in">print</span>(f"Furnace 1 plates: "
      f"{furnace1.furnace_result.get(Prototype.IronPlate)}")</code></pre>
                        </div>

                        <div class="example-card">
                            <h4>📊 Observation Result</h4>
                            <pre><code>### Inventory
- transport-belt: 500
- medium-electric-pole: 489
- pipe: 481
- coal: 480
- electric-mining-drill: 48
- electric-furnace: 8

### Entities
- ElectricityGroup: 1
  - voltage=67556413
- electric-furnace: 2
  - electrical_id=340, position=(15.5, 73.5)
    status=WORKING, energy=3306.7
    furnace_source={'iron-ore': 94}
    furnace_result={'iron-plate': 50}
  - electrical_id=340, position=(18.5, 73.5)
    status=WORKING, energy=3306.7
    furnace_source={'iron-ore': 93}
    furnace_result={'iron-plate': 50}
- electric-mining-drill: 2
  - position=(15.5, 70.5), status=WORKING
  - position=(18.5, 70.5), status=WORKING
- boiler: 1
  - fuel=Inventory({}), status=NO_FUEL
    warnings=['out of fuel']

### Production Flows (for entire previous step)
Inputs: coal: 2.00, iron-ore: 101.00,
        water: 349.96, steam: 1424.63
Outputs: iron-ore: 99.00, iron-plate: 99.00,
         water: 349.96, steam: 349.96

### Game Info
- Elapsed Time: 0:06:54
- Ticks: 24881

### Task Status
⏳ IN PROGRESS
iron-gear-wheel throughput: 0/60 seconds

### Task Information
Goal: Create automatic iron-gear-wheel factory
      producing 16 iron-gear-wheel per 60 seconds
Task Key: iron_gear_wheel_throughput

### Raw Output
Found 9 power poles
Placed power pole next to furnace 1 at x=12.5 y=73.5
Placed power pole next to furnace 2 at x=21.5 y=73.5
Furnace 1 status: EntityStatus.WORKING
Furnace 1 energy: 3306.67
Furnace 1 plates: 11
Furnace 2 plates: 10</code></pre>
                        </div>

                        <div class="example-card">
                            <h4>🎮 Game State (Before)</h4>
                            <img src="../assets/images/v6113_iter5_before.png" alt="Before state" class="example-image" style="background: #e0e0e0;">
                            <p style="text-align: center; margin-top: 10px; font-style: italic; color: #666;">Placeholder: Unpowered furnaces with NO_POWER status</p>
                        </div>

                        <div class="example-card">
                            <h4>🎬 Game State (After)</h4>
                            <img src="../assets/images/v6113_iter5_after.gif" alt="After animation" class="example-image" style="background: #e0e0e0;">
                            <p style="text-align: center; margin-top: 10px; font-style: italic; color: #666;">Placeholder: Furnaces actively smelting with power connected</p>
                        </div>
                    </div>
                </div>

                <div id="example3" class="tab-content">
                    <h3 class="title is-4">Step 9: Inserter Power Debug</h3>
                    <p>The agent realizes the assembler's inserters lack power, places poles near them, then sets up input/output chests for the assembling machine.</p>

                    <div class="example-grid">
                        <div class="example-card">
                            <h4>⚡ Action Program</h4>
                            <pre><code># Get inserters at assembler
input_inserter = get_entity(Prototype.Inserter,
                           Position(x=22.5, y=93.5))
output_inserter = get_entity(Prototype.Inserter,
                             Position(x=18.5, y=93.5))

print(f"Input inserter status: {input_inserter.status}")
# Output: EntityStatus.NO_POWER

# Place poles near inserters
move_to(input_inserter.position)
pole1 = place_entity_next_to(
    Prototype.MediumElectricPole,
    input_inserter.position,
    direction=Direction.UP, spacing=1)

move_to(output_inserter.position)
pole2 = place_entity_next_to(
    Prototype.MediumElectricPole,
    output_inserter.position,
    direction=Direction.UP, spacing=1)

sleep(3)  # Wait for power

# Place chests for I/O
move_to(input_inserter.pickup_position)
input_chest = place_entity(
    Prototype.WoodenChest,
    position=input_inserter.pickup_position)

move_to(output_inserter.drop_position)
output_chest = place_entity(
    Prototype.WoodenChest,
    position=output_inserter.drop_position)</code></pre>
                        </div>

                        <div class="example-card">
                            <h4>📊 Observation Result</h4>
                            <pre><code>### Raw Output
Input inserter status: EntityStatus.NO_POWER
Output inserter status: EntityStatus.NO_POWER
Placed pole near input inserter at x=22.5 y=91.5
Placed pole near output inserter at x=18.5 y=91.5
Placed input chest at x=23.5 y=93.5
Placed output chest at x=17.5 y=93.5

### Entities
- inserter: 4
  - status=WAITING_FOR_SOURCE_ITEMS
    (now powered but no items yet)
- assembling-machine-2: 1
  - warnings=['missing resources: iron-plate']
  - status=ITEM_INGREDIENT_SHORTAGE

### Status
⏳ IN PROGRESS
Inserters powered, need to connect iron supply
iron-gear-wheel throughput: 0/60s</code></pre>
                        </div>

                        <div class="example-card">
                            <h4>🎮 Game State (Before)</h4>
                            <img src="../assets/images/v6113_iter9_before.png" alt="Before state" class="example-image" style="background: #e0e0e0;">
                            <p style="text-align: center; margin-top: 10px; font-style: italic; color: #666;">Placeholder: Unpowered inserters around assembler</p>
                        </div>

                        <div class="example-card">
                            <h4>🎬 Game State (After)</h4>
                            <img src="../assets/images/v6113_iter9_after.gif" alt="After animation" class="example-image" style="background: #e0e0e0;">
                            <p style="text-align: center; margin-top: 10px; font-style: italic; color: #666;">Placeholder: Powered inserters with chests placed</p>
                        </div>
                    </div>
                </div>

                <div id="example4" class="tab-content">
                    <h3 class="title is-4">Step 10: Belt Connection Error</h3>
                    <p>The agent attempts to connect belts from furnace outputs to the assembler but encounters an API error about connecting from chest objects.</p>

                    <div class="example-grid">
                        <div class="example-card">
                            <h4>⚡ Action Program</h4>
                            <pre><code># Refuel boiler
boiler = get_entity(Prototype.Boiler,
                   Position(x=-4.0, y=3.5))
move_to(boiler.position)
boiler = insert_item(Prototype.Coal, boiler, quantity=30)

# Get chests
iron_chest1 = get_entity(Prototype.WoodenChest,
                        Position(x=15.5, y=76.5))
assembler_input_chest = get_entity(
    Prototype.WoodenChest,
    Position(x=23.5, y=93.5))

# Get inserters
output_inserter1 = get_entity(Prototype.Inserter,
                             Position(x=15.5, y=75.5))
assembler_input_inserter = get_entity(
    Prototype.Inserter,
    Position(x=22.5, y=93.5))

# Try to connect with belts (FAILS!)
belts1 = connect_entities(
    output_inserter1.drop_position,  # ERROR!
    assembler_input_inserter.pickup_position,
    Prototype.TransportBelt
)</code></pre>
                        </div>

                        <div class="example-card">
                            <h4>📊 Observation Result</h4>
                            <pre><code>### Raw Output
Refueled boiler with 30 coal
Iron chest 1 has 266 iron plates
Iron chest 2 has 266 iron plates

### ERROR
Exception: Transport belts cannot be connected
directly from a Prototype.WoodenChest object as
a source. You need to add an inserter that takes
items from Prototype.WoodenChest and use the
inserter as a source entity.

### Production Flows
Inputs: iron-ore: 100.00
Outputs: iron-plate: 100.00

### Status
⏳ IN PROGRESS
API error encountered, need to use inserters
iron-gear-wheel throughput: 0/60s</code></pre>
                        </div>

                        <div class="example-card">
                            <h4>🎮 Game State (Before)</h4>
                            <img src="../assets/images/v6113_iter10_before.png" alt="Before state" class="example-image" style="background: #e0e0e0;">
                            <p style="text-align: center; margin-top: 10px; font-style: italic; color: #666;">Placeholder: Chests full of iron, no belt connection</p>
                        </div>

                        <div class="example-card">
                            <h4>🎬 Game State (After)</h4>
                            <img src="../assets/images/v6113_iter10_after.gif" alt="After animation" class="example-image" style="background: #e0e0e0;">
                            <p style="text-align: center; margin-top: 10px; font-style: italic; color: #666;">Placeholder: Same state, error occurred</p>
                        </div>
                    </div>
                </div>

                <div id="example5" class="tab-content">
                    <h3 class="title is-4">Step 13: Final Success</h3>
                    <p>The agent removes blocking chests and successfully connects inserters with belt lines. Factory achieves 68 iron gears/min, exceeding the 16/min target!</p>

                    <div class="example-grid">
                        <div class="example-card">
                            <h4>⚡ Action Program</h4>
                            <pre><code># Remove the blocking input chest
assembler_input_chest = get_entity(
    Prototype.WoodenChest,
    Position(x=23.5, y=93.5))
move_to(assembler_input_chest.position)
pickup_entity(assembler_input_chest)

# Get inserters
output_inserter1 = get_entity(Prototype.Inserter,
                             Position(x=15.5, y=75.5))
output_inserter2 = get_entity(Prototype.Inserter,
                             Position(x=18.5, y=75.5))
assembler_input_inserter = get_entity(
    Prototype.Inserter,
    Position(x=22.5, y=93.5))

# Connect first inserter to assembler input
belts1 = connect_entities(
    output_inserter1,
    assembler_input_inserter,
    Prototype.TransportBelt)

# Connect second inserter to main belt
belts2 = connect_entities(
    output_inserter2,
    belts1,
    Prototype.TransportBelt)

# Refuel boiler
boiler = get_entity(Prototype.Boiler,
                   Position(x=-4.0, y=3.5))
move_to(boiler.position)
boiler = insert_item(Prototype.Coal, boiler,
                    quantity=30)</code></pre>
                        </div>

                        <div class="example-card">
                            <h4>📊 Observation Result</h4>
                            <pre><code>### Raw Output
Removed input chest at x=23.5 y=93.5
Connected first furnace output to assembler input
BeltGroup(inputs=[Belt((x=15.5 y=76.5)->)],
         outputs=[Belt((x=23.5 y=93.5)->)],
         inventory={'iron-plate': 2},
         status=WORKING, belts=[26 belts])
Connected second furnace output to belt line
BeltGroup(belts=[55 belts], status=WORKING)
Refueled boiler

### Production Flows
Inputs: iron-ore: 185.00, iron-plate: 246.00
Outputs: iron-plate: 185.00,
         iron-gear-wheel: 123.00 🎉

### Status
✅ SUCCESS
iron-gear-wheel throughput: 68/60s
Target achieved!</code></pre>
                        </div>

                        <div class="example-card">
                            <h4>🎮 Game State (Before)</h4>
                            <img src="../assets/images/v6113_iter13_before.png" alt="Before state" class="example-image" style="background: #e0e0e0;">
                            <p style="text-align: center; margin-top: 10px; font-style: italic; color: #666;">Placeholder: Partial factory with blocked logistics</p>
                        </div>

                        <div class="example-card">
                            <h4>🎬 Game State (After)</h4>
                            <img src="../assets/images/v6113_iter13_after.gif" alt="After animation" class="example-image" style="background: #e0e0e0;">
                            <p style="text-align: center; margin-top: 10px; font-style: italic; color: #666;">Placeholder: Complete working factory producing gears</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="columns is-centered">
                <div class="column">
                    <div class="content has-text-centered">
                        <p>
                            Website template borrowed from <a href="https://github.com/nerfies/nerfies.github.io" target="_blank">NeRFies</a>, <a href="https://github.com/cliport/cliport.github.io" target="_blank">CLIPort</a>, <a href="https://voyager.minedojo.org/" target="_blank">Voyager</a> and
                            <a href="https://github.com/vimalabs/vimalabs.github.io" target="_blank">VIMA</a>.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>