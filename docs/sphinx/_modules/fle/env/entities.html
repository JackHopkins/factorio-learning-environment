

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>fle.env.entities &mdash; Factorio Learning Environment 0.3.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=e259d695"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Factorio Learning Environment
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/cluster.html">Cluster Setup</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/environment.html">Environment API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/observation.html">Observation Space</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/action.html">Action Space</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/tools.html">Tools API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/modules.html">API Modules</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Customization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../customization/tasks.html">Creating Custom Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../customization/tools.html">Creating Custom Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../customization/agents.html">Implementing Custom Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../customization/database.html">Database Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/basic_agent.html">Basic Agent Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/visual_agent.html">Visual Agent Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/multiagent.html">Multi-Agent Example</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tools/index.html">Tools Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Factorio Learning Environment</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">fle.env.entities</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for fle.env.entities</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span><span class="w"> </span><span class="nn">math</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Literal</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">enum</span><span class="w"> </span><span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">IntFlag</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">ConfigDict</span><span class="p">,</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">model_validator</span><span class="p">,</span> <span class="n">model_serializer</span>


<div class="viewcode-block" id="Layer">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Layer">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Layer</span><span class="p">(</span><span class="n">IntFlag</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enum representing different layers that can be rendered on the map&quot;&quot;&quot;</span>

    <span class="n">NONE</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">GRID</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span>  <span class="c1"># Grid lines</span>
    <span class="n">WATER</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span>  <span class="c1"># Water tiles</span>
    <span class="n">RESOURCES</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span>  <span class="c1"># Resource patches (iron, copper, coal, etc.)</span>
    <span class="n">TREES</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">3</span>  <span class="c1"># Trees</span>
    <span class="n">ROCKS</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">4</span>  <span class="c1"># Rocks</span>
    <span class="n">ENTITIES</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span>  <span class="c1"># Player-built entities</span>
    <span class="n">CONNECTIONS</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">6</span>  <span class="c1"># Underground belt/pipe connections</span>
    <span class="n">ORIGIN</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">7</span>  <span class="c1"># Origin marker (0,0)</span>
    <span class="n">PLAYER</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span>  <span class="c1"># Player position marker</span>
    <span class="n">LABELS</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">9</span>  <span class="c1"># Entity labels</span>
    <span class="n">ELECTRICITY</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="mi">10</span>  <span class="c1"># New layer for electricity networks</span>

    <span class="c1"># Convenience combinations</span>
    <span class="n">NATURAL</span> <span class="o">=</span> <span class="n">TREES</span> <span class="o">|</span> <span class="n">ROCKS</span>  <span class="c1"># All natural elements</span>

    <span class="c1"># Use this explicit definition instead of ~0 to ensure we only include defined flags</span>
    <span class="n">ALL</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">GRID</span>
        <span class="o">|</span> <span class="n">WATER</span>
        <span class="o">|</span> <span class="n">RESOURCES</span>
        <span class="o">|</span> <span class="n">TREES</span>
        <span class="o">|</span> <span class="n">ROCKS</span>
        <span class="o">|</span> <span class="n">ENTITIES</span>
        <span class="o">|</span> <span class="n">CONNECTIONS</span>
        <span class="o">|</span> <span class="n">ORIGIN</span>
        <span class="o">|</span> <span class="n">PLAYER</span>
        <span class="o">|</span> <span class="n">LABELS</span>
        <span class="o">|</span> <span class="n">ELECTRICITY</span>
    <span class="p">)</span></div>



<span class="c1"># This should really live in `types`, but it&#39;s here to prevent a circular import</span>
<div class="viewcode-block" id="EntityStatus">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.EntityStatus">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">EntityStatus</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">WORKING</span> <span class="o">=</span> <span class="s2">&quot;working&quot;</span>
    <span class="n">NORMAL</span> <span class="o">=</span> <span class="s2">&quot;normal&quot;</span>
    <span class="n">NO_POWER</span> <span class="o">=</span> <span class="s2">&quot;no_power&quot;</span>
    <span class="n">LOW_POWER</span> <span class="o">=</span> <span class="s2">&quot;low_power&quot;</span>
    <span class="n">NO_FUEL</span> <span class="o">=</span> <span class="s2">&quot;no_fuel&quot;</span>
    <span class="n">EMPTY</span> <span class="o">=</span> <span class="s2">&quot;empty&quot;</span>
    <span class="c1"># DISABLED_BY_CONTROL_BEHAVIOR = &quot;disabled_by_control_behavior&quot;</span>
    <span class="c1"># OPENED_BY_CIRCUIT_NETWORK = &quot;opened_by_circuit_network&quot;</span>
    <span class="c1"># CLOSED_BY_CIRCUIT_NETWORK = &quot;closed_by_circuit_network&quot;</span>
    <span class="c1"># DISABLED_BY_SCRIPT = &quot;disabled_by_script&quot;</span>
    <span class="c1"># MARKED_FOR_DECONSTRUCTION = &quot;marked_for_deconstruction&quot;</span>
    <span class="n">NOT_PLUGGED_IN_ELECTRIC_NETWORK</span> <span class="o">=</span> <span class="s2">&quot;not_plugged_in_electric_network&quot;</span>
    <span class="c1"># NETWORKS_CONNECTED = &quot;networks_connected&quot;</span>
    <span class="c1"># NETWORKS_DISCONNECTED = &quot;networks_disconnected&quot;</span>
    <span class="n">CHARGING</span> <span class="o">=</span> <span class="s2">&quot;charging&quot;</span>
    <span class="n">DISCHARGING</span> <span class="o">=</span> <span class="s2">&quot;discharging&quot;</span>
    <span class="n">FULLY_CHARGED</span> <span class="o">=</span> <span class="s2">&quot;fully_charged&quot;</span>
    <span class="c1"># OUT_OF_LOGISTIC_NETWORK = &quot;out_of_logistic_network&quot;</span>
    <span class="n">NO_RECIPE</span> <span class="o">=</span> <span class="s2">&quot;no_recipe&quot;</span>
    <span class="n">NO_INGREDIENTS</span> <span class="o">=</span> <span class="s2">&quot;no_ingredients&quot;</span>
    <span class="n">NOT_CONNECTED</span> <span class="o">=</span> <span class="s2">&quot;not_connected&quot;</span>
    <span class="n">NO_INPUT_FLUID</span> <span class="o">=</span> <span class="s2">&quot;no_input_fluid&quot;</span>
    <span class="n">NO_RESEARCH_IN_PROGRESS</span> <span class="o">=</span> <span class="s2">&quot;no_research_in_progress&quot;</span>
    <span class="n">NO_MINABLE_RESOURCES</span> <span class="o">=</span> <span class="s2">&quot;no_minable_resources&quot;</span>
    <span class="n">LOW_INPUT_FLUID</span> <span class="o">=</span> <span class="s2">&quot;low_input_fluid&quot;</span>
    <span class="n">FLUID_INGREDIENT_SHORTAGE</span> <span class="o">=</span> <span class="s2">&quot;fluid_ingredient_shortage&quot;</span>
    <span class="n">FULL_OUTPUT</span> <span class="o">=</span> <span class="s2">&quot;full_output&quot;</span>
    <span class="n">FULL_BURNT_RESULT_OUTPUT</span> <span class="o">=</span> <span class="s2">&quot;full_burnt_result_output&quot;</span>
    <span class="n">ITEM_INGREDIENT_SHORTAGE</span> <span class="o">=</span> <span class="s2">&quot;item_ingredient_shortage&quot;</span>
    <span class="n">MISSING_REQUIRED_FLUID</span> <span class="o">=</span> <span class="s2">&quot;missing_required_fluid&quot;</span>
    <span class="n">MISSING_SCIENCE_PACKS</span> <span class="o">=</span> <span class="s2">&quot;missing_science_packs&quot;</span>
    <span class="n">WAITING_FOR_SOURCE_ITEMS</span> <span class="o">=</span> <span class="s2">&quot;waiting_for_source_items&quot;</span>
    <span class="n">WAITING_FOR_SPACE_IN_DESTINATION</span> <span class="o">=</span> <span class="s2">&quot;waiting_for_space_in_destination&quot;</span>

    <span class="n">PREPARING_ROCKET_FOR_LAUNCH</span> <span class="o">=</span> <span class="s2">&quot;preparing_rocket_for_launch&quot;</span>
    <span class="n">WAITING_TO_LAUNCH_ROCKET</span> <span class="o">=</span> <span class="s2">&quot;waiting_to_launch_rocket&quot;</span>
    <span class="n">LAUNCHING_ROCKET</span> <span class="o">=</span> <span class="s2">&quot;launching_rocket&quot;</span>
    <span class="c1"># NO_MODULES_TO_TRANSMIT = &quot;no_modules_to_transmit&quot;</span>
    <span class="c1"># RECHARGING_AFTER_POWER_OUTAGE = &quot;recharging_after_power_outage&quot;</span>
    <span class="c1"># WAITING_FOR_TARGET_TO_BE_BUILT = &quot;waiting_for_target_to_be_built&quot;</span>
    <span class="c1"># WAITING_FOR_TRAIN = &quot;waiting_for_train&quot;</span>
    <span class="n">NO_AMMO</span> <span class="o">=</span> <span class="s2">&quot;no_ammo&quot;</span>
    <span class="n">LOW_TEMPERATURE</span> <span class="o">=</span> <span class="s2">&quot;low_temperature&quot;</span>
    <span class="c1"># DISABLED = &quot;disabled&quot;</span>
    <span class="c1"># TURNED_OFF_DURING_DAYTIME = &quot;turned_off_during_daytime&quot;</span>
    <span class="n">NOT_CONNECTED_TO_RAIL</span> <span class="o">=</span> <span class="s2">&quot;not_connected_to_rail&quot;</span>
    <span class="c1"># CANT_DIVIDE_SEGMENTS = &quot;cant_divide_segments&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;EntityStatus.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>

<div class="viewcode-block" id="EntityStatus.from_string">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.EntityStatus.from_string">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">status_string</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">status</span> <span class="ow">in</span> <span class="bp">cls</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">status</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="n">status_string</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">status</span>
        <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="EntityStatus.from_int">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.EntityStatus.from_int">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_int</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">status_int</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">status</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">==</span> <span class="n">status_int</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">status</span>
        <span class="k">return</span> <span class="kc">None</span></div>
</div>



<div class="viewcode-block" id="Inventory">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Inventory">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Inventory</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span>
        <span class="n">populate_by_name</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">arbitrary_types_allowed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="s2">&quot;allow&quot;</span>
    <span class="p">)</span>

    <span class="c1"># def __init__(self, **data):</span>
    <span class="c1">#     super().__init__()</span>
    <span class="c1">#     self.__dict__.update(data)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="s2">&quot;Prototype&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>  <span class="c1"># noqa</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">):</span>
                <span class="n">name</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">value</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">key</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">name</span> <span class="o">=</span> <span class="n">key</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">key</span>
        <span class="c1"># return self.__dict__[name] if name in self.__dict__ else 0</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;__pydantic_extra__&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pydantic_extra__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<div class="viewcode-block" id="Inventory.get">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Inventory.get">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">item</span> <span class="k">if</span> <span class="n">item</span> <span class="k">else</span> <span class="n">default</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">):</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">key</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;__pydantic_extra__&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">__pydantic_extra__</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>

<div class="viewcode-block" id="Inventory.items">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Inventory.items">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">items</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;__pydantic_extra__&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pydantic_extra__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)}</span><span class="o">.</span><span class="n">items</span><span class="p">()</span></div>


<div class="viewcode-block" id="Inventory.keys">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Inventory.keys">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">keys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;__pydantic_extra__&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pydantic_extra__</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)]</span></div>


<div class="viewcode-block" id="Inventory.values">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Inventory.values">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;__pydantic_extra__&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pydantic_extra__</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)]</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;__pydantic_extra__&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__pydantic_extra__</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">([</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)])</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Inventory</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>

        <span class="n">result_data</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">result_data</span><span class="p">:</span>
                <span class="n">result_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">result_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">+</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result_data</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">return</span> <span class="n">Inventory</span><span class="p">(</span><span class="o">**</span><span class="n">result_data</span><span class="p">)</span>

<div class="viewcode-block" id="Inventory.serialize_model">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Inventory.serialize_model">[docs]</a>
    <span class="nd">@model_serializer</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">serialize_model</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;__pydantic_extra__&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__pydantic_extra__</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)}</span></div>
</div>



<div class="viewcode-block" id="Direction">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Direction">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Direction</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="n">UP</span> <span class="o">=</span> <span class="n">NORTH</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">RIGHT</span> <span class="o">=</span> <span class="n">EAST</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">DOWN</span> <span class="o">=</span> <span class="n">SOUTH</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">LEFT</span> <span class="o">=</span> <span class="n">WEST</span> <span class="o">=</span> <span class="mi">6</span>
    <span class="c1">#</span>
    <span class="c1"># UPRIGHT = NORTHEAST = 8</span>
    <span class="c1"># DOWNRIGHT = SOUTHEAST = 10</span>
    <span class="c1"># DOWNLEFT = SOUTHWEST = 12</span>
    <span class="c1"># UPLEFT = NORTHWEST = 14</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Direction.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span>

<div class="viewcode-block" id="Direction.from_string">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Direction.from_string">[docs]</a>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">from_string</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">direction_string</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">status</span> <span class="ow">in</span> <span class="bp">cls</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">status</span><span class="o">.</span><span class="n">value</span> <span class="o">==</span> <span class="n">direction_string</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">status</span>
        <span class="k">return</span> <span class="kc">None</span></div>
</div>



<div class="viewcode-block" id="Position">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Position">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Position</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_parse_positional_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
        <span class="k">return</span> <span class="n">v</span>

<div class="viewcode-block" id="Position.__init__">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Position.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">args</span> <span class="ow">and</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Cannot mix positional and keyword arguments&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Position requires exactly 2 positional arguments&quot;</span><span class="p">)</span>
            <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]}</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


<div class="viewcode-block" id="Position.parse_args">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Position.parse_args">[docs]</a>
    <span class="nd">@model_validator</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;before&quot;</span><span class="p">)</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">parse_args</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">values</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">values</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                    <span class="s2">&quot;Position requires exactly 2 positional arguments when not using keywords&quot;</span>
                <span class="p">)</span>
            <span class="k">return</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">values</span><span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
        <span class="k">return</span> <span class="n">values</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Position&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Position</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Position&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Position</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

<div class="viewcode-block" id="Position.is_close">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Position.is_close">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">is_close</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="s2">&quot;Position&quot;</span><span class="p">,</span> <span class="n">tolerance</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">tolerance</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">tolerance</span></div>


<div class="viewcode-block" id="Position.distance">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Position.distance">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">distance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">:</span> <span class="s2">&quot;Position&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="c1"># calculates the euclidean distance between two points</span>
        <span class="k">return</span> <span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">a</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span></div>


    <span class="k">def</span><span class="w"> </span><span class="nf">_modifier</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">args</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
            <span class="k">return</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="mi">1</span>

<div class="viewcode-block" id="Position.above">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Position.above">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">above</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Position&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Position</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_modifier</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">))</span></div>


<div class="viewcode-block" id="Position.up">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Position.up">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">up</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Position&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">above</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></div>


<div class="viewcode-block" id="Position.below">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Position.below">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">below</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Position&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Position</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_modifier</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">))</span></div>


<div class="viewcode-block" id="Position.down">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Position.down">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">down</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Position&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">below</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></div>


<div class="viewcode-block" id="Position.left">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Position.left">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">left</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Position&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Position</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_modifier</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span></div>


<div class="viewcode-block" id="Position.right">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Position.right">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">right</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Position&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Position</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_modifier</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span></div>


<div class="viewcode-block" id="Position.to_bounding_box">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Position.to_bounding_box">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_bounding_box</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="s2">&quot;Position&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;BoundingBox&quot;</span><span class="p">:</span>
        <span class="n">min_x</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
        <span class="n">max_x</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
        <span class="n">min_y</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        <span class="n">max_y</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">BoundingBox</span><span class="p">(</span>
            <span class="n">left_top</span><span class="o">=</span><span class="n">Position</span><span class="p">(</span><span class="n">min_x</span><span class="p">,</span> <span class="n">min_y</span><span class="p">),</span>
            <span class="n">right_bottom</span><span class="o">=</span><span class="n">Position</span><span class="p">(</span><span class="n">max_x</span><span class="p">,</span> <span class="n">max_y</span><span class="p">),</span>
            <span class="n">left_bottom</span><span class="o">=</span><span class="n">Position</span><span class="p">(</span><span class="n">min_x</span><span class="p">,</span> <span class="n">max_y</span><span class="p">),</span>
            <span class="n">right_top</span><span class="o">=</span><span class="n">Position</span><span class="p">(</span><span class="n">max_x</span><span class="p">,</span> <span class="n">min_y</span><span class="p">),</span>
        <span class="p">)</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Position</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">NotImplemented</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">is_close</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">tolerance</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></div>



<div class="viewcode-block" id="IndexedPosition">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.IndexedPosition">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">IndexedPosition</span><span class="p">(</span><span class="n">Position</span><span class="p">):</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># Handle both positional and keyword arguments</span>
        <span class="k">if</span> <span class="n">args</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>  <span class="c1"># x, y, type</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">]}</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>  <span class="c1"># x, y only</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]}</span>

        <span class="c1"># If this is being called from a parent class method (like above(), left(), etc.)</span>
        <span class="c1"># we need to preserve the type from the original instance</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;type&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="s2">&quot;_current_type&quot;</span><span class="p">):</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_current_type</span>

        <span class="n">instance</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span>

        <span class="c1"># Store the type at class level temporarily for child instances</span>
        <span class="k">if</span> <span class="s2">&quot;type&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_current_type</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">instance</span>

<div class="viewcode-block" id="IndexedPosition.__init__">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.IndexedPosition.__init__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">args</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>  <span class="c1"># x, y, type</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="mi">2</span><span class="p">]}</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>  <span class="c1"># x, y only</span>
                <span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]}</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>


    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="EntityInfo">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.EntityInfo">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">EntityInfo</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">direction</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">position</span><span class="p">:</span> <span class="n">Position</span>
    <span class="n">start_position</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Position</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">end_position</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Position</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">quantity</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">warning</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">contents</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">EntityStatus</span> <span class="o">=</span> <span class="n">EntityStatus</span><span class="o">.</span><span class="n">NORMAL</span></div>



<div class="viewcode-block" id="InspectionResults">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.InspectionResults">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">InspectionResults</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">entities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">EntityInfo</span><span class="p">]</span>
    <span class="n">player_position</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">radius</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">time_elapsed</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>

<div class="viewcode-block" id="InspectionResults.get_entity">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.InspectionResults.get_entity">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_entity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prototype</span><span class="p">:</span> <span class="s2">&quot;Prototype&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">EntityInfo</span><span class="p">]:</span>  <span class="c1"># noqa</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">prototype</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">entity</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">entity</span>
        <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="InspectionResults.get_entities">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.InspectionResults.get_entities">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_entities</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prototype</span><span class="p">:</span> <span class="s2">&quot;Prototype&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">EntityInfo</span><span class="p">]:</span>  <span class="c1"># noqa</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">prototype</span><span class="o">.</span><span class="n">value</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">entity</span> <span class="k">for</span> <span class="n">entity</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">entities</span> <span class="k">if</span> <span class="n">entity</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">name</span><span class="p">]</span></div>
</div>



<div class="viewcode-block" id="BoundingBox">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.BoundingBox">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">BoundingBox</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">left_top</span><span class="p">:</span> <span class="n">Position</span>
    <span class="n">right_bottom</span><span class="p">:</span> <span class="n">Position</span>
    <span class="n">left_bottom</span><span class="p">:</span> <span class="n">Position</span>
    <span class="n">right_top</span><span class="p">:</span> <span class="n">Position</span>

    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">center</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Position</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Position</span><span class="p">(</span>
            <span class="n">x</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left_top</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_bottom</span><span class="o">.</span><span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
            <span class="n">y</span><span class="o">=</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left_top</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">right_bottom</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
        <span class="p">)</span>

<div class="viewcode-block" id="BoundingBox.width">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.BoundingBox.width">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">width</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate the width of the bounding box.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The absolute difference between right and left x-coordinates</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">right_bottom</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_top</span><span class="o">.</span><span class="n">x</span><span class="p">)</span></div>


<div class="viewcode-block" id="BoundingBox.height">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.BoundingBox.height">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">height</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculate the height of the bounding box.</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The absolute difference between bottom and top y-coordinates</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">abs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">right_bottom</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">left_top</span><span class="o">.</span><span class="n">y</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="BuildingBox">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.BuildingBox">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">BuildingBox</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span></div>



<div class="viewcode-block" id="ResourcePatch">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.ResourcePatch">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">ResourcePatch</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">size</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">bounding_box</span><span class="p">:</span> <span class="n">BoundingBox</span></div>



<div class="viewcode-block" id="Dimensions">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Dimensions">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Dimensions</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">float</span></div>



<div class="viewcode-block" id="TileDimensions">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.TileDimensions">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">TileDimensions</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">tile_width</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">tile_height</span><span class="p">:</span> <span class="nb">float</span></div>



<div class="viewcode-block" id="Ingredient">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Ingredient">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Ingredient</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">count</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;fluid&quot;</span><span class="p">,</span> <span class="s2">&quot;item&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span></div>



<div class="viewcode-block" id="Product">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Product">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Product</span><span class="p">(</span><span class="n">Ingredient</span><span class="p">):</span>
    <span class="n">probability</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span></div>



<div class="viewcode-block" id="Recipe">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Recipe">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Recipe</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">ingredients</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Ingredient</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">products</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Product</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">energy</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">category</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">enabled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></div>



<div class="viewcode-block" id="BurnerType">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.BurnerType">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">BurnerType</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Type of entity that burns fuel&quot;&quot;&quot;</span>

    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">arbitrary_types_allowed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">fuel</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>  <span class="c1"># Use this to check the fuel levels of the entity</span></div>



<div class="viewcode-block" id="EntityCore">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.EntityCore">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">EntityCore</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="c1"># id: Optional[str] = None</span>
    <span class="n">model_config</span> <span class="o">=</span> <span class="n">ConfigDict</span><span class="p">(</span><span class="n">extra</span><span class="o">=</span><span class="s2">&quot;allow&quot;</span><span class="p">)</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">direction</span><span class="p">:</span> <span class="n">Direction</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">NORTH</span>
    <span class="n">position</span><span class="p">:</span> <span class="n">Position</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Entity(name=&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&#39;, direction=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">, position=Position(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="si">}</span><span class="s2">)&quot;</span></div>



<div class="viewcode-block" id="Entity">
<a class="viewcode-back" href="../../../api/observation.html#fle.env.entities.Entity">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Entity</span><span class="p">(</span><span class="n">EntityCore</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for all entities in the game.&quot;&quot;&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">energy</span><span class="p">:</span> <span class="nb">float</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">dimensions</span><span class="p">:</span> <span class="n">Dimensions</span>
    <span class="n">tile_dimensions</span><span class="p">:</span> <span class="n">TileDimensions</span>
    <span class="n">prototype</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Prototype</span>
    <span class="n">health</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">warnings</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">EntityStatus</span> <span class="o">=</span> <span class="n">EntityStatus</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="c1"># game: Optional[Any] = None # RCON connection for refreshing attributes</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="c1"># Only includes the fields we want to present to the agent</span>
        <span class="c1"># Get all instance attributes</span>
        <span class="n">all_fields</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span>

        <span class="c1"># Filter out private attributes and excluded fields</span>
        <span class="n">excluded_fields</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;dimensions&quot;</span><span class="p">,</span>
            <span class="s2">&quot;prototype&quot;</span><span class="p">,</span>
            <span class="s2">&quot;type&quot;</span><span class="p">,</span>
            <span class="s2">&quot;health&quot;</span><span class="p">,</span>
            <span class="s2">&quot;game&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">,</span>
            <span class="s2">&quot;tile_dimensions&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="n">rename_fields</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">repr_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">all_fields</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="c1"># Remove the &#39;_&#39; prefix that pydantic adds to fields</span>
            <span class="n">clean_key</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">clean_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">excluded_fields</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">clean_key</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;__&quot;</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">clean_key</span> <span class="ow">in</span> <span class="n">rename_fields</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">clean_key</span> <span class="o">=</span> <span class="n">rename_fields</span><span class="p">[</span><span class="n">clean_key</span><span class="p">]</span>
                <span class="c1"># Handle enum values specially</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">Enum</span><span class="p">):</span>
                    <span class="n">repr_dict</span><span class="p">[</span><span class="n">clean_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="p">(</span>
                        <span class="n">clean_key</span> <span class="o">==</span> <span class="s2">&quot;warnings&quot;</span> <span class="ow">and</span> <span class="n">value</span>
                    <span class="p">)</span> <span class="ow">or</span> <span class="n">clean_key</span> <span class="o">!=</span> <span class="s2">&quot;warnings&quot;</span><span class="p">:</span>  <span class="c1"># Don&#39;t show empty warnings list</span>
                        <span class="n">repr_dict</span><span class="p">[</span><span class="n">clean_key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="n">repr_dict</span><span class="p">[</span><span class="s2">&quot;height&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tile_dimensions</span><span class="o">.</span><span class="n">tile_height</span>
        <span class="n">repr_dict</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tile_dimensions</span><span class="o">.</span><span class="n">tile_width</span>

        <span class="c1"># Convert to string format</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="n">v</span><span class="si">!r}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">repr_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">items</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_prototype</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">prototype</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">width</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_width</span>

    <span class="nd">@classmethod</span>
    <span class="nd">@property</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">height</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_height</span></div>



<div class="viewcode-block" id="StaticEntity">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.StaticEntity">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">StaticEntity</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A static (non-moving) entity in the game.&quot;&quot;&quot;</span>

    <span class="n">neighbours</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">EntityCore</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">[]</span></div>



<div class="viewcode-block" id="Rail">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Rail">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Rail</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Railway track for trains.&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span></div>



<div class="viewcode-block" id="Splitter">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Splitter">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Splitter</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A belt splitter that divides item flow between outputs.&quot;&quot;&quot;</span>

    <span class="n">input_positions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Position</span><span class="p">]</span>
    <span class="n">output_positions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Position</span><span class="p">]</span>
    <span class="n">inventory</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Inventory</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span></div>



<div class="viewcode-block" id="TransportBelt">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.TransportBelt">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">TransportBelt</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A conveyor belt for moving items.&quot;&quot;&quot;</span>

    <span class="n">input_position</span><span class="p">:</span> <span class="n">Position</span>
    <span class="n">output_position</span><span class="p">:</span> <span class="n">Position</span>
    <span class="c1"># inventory: Inventory = Inventory()</span>
    <span class="n">inventory</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="s2">&quot;right&quot;</span><span class="p">],</span> <span class="n">Inventory</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;left&quot;</span><span class="p">:</span> <span class="p">{},</span> <span class="s2">&quot;right&quot;</span><span class="p">:</span> <span class="p">{}}</span>
    <span class="n">is_terminus</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">is_source</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Belt((</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="si">}</span><span class="s2">)-&gt;, direction=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">direction</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">TransportBelt</span><span class="p">):</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span>
            <span class="n">other</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
            <span class="n">other</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">y</span><span class="p">,</span>
        <span class="p">)</span></div>



<div class="viewcode-block" id="Electric">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Electric">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Electric</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for entities that interact with the power grid.&quot;&quot;&quot;</span>

    <span class="n">electrical_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>



<div class="viewcode-block" id="ElectricalProducer">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.ElectricalProducer">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">ElectricalProducer</span><span class="p">(</span><span class="n">Electric</span><span class="p">,</span> <span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An entity that generates electrical power.&quot;&quot;&quot;</span>

    <span class="n">production</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">energy_source</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">electric_output_flow_limit</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span></div>



<div class="viewcode-block" id="EnergySource">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.EnergySource">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">EnergySource</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">buffer_capacity</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">input_flow_limit</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">output_flow_limit</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">drain</span><span class="p">:</span> <span class="nb">str</span></div>



<div class="viewcode-block" id="Accumulator">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Accumulator">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Accumulator</span><span class="p">(</span><span class="n">StaticEntity</span><span class="p">,</span> <span class="n">Electric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents an energy storage device&quot;&quot;&quot;</span>

    <span class="n">energy_source</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">EnergySource</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span></div>



<div class="viewcode-block" id="Inserter">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Inserter">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Inserter</span><span class="p">(</span><span class="n">StaticEntity</span><span class="p">,</span> <span class="n">Electric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents an inserter that moves items between entities.</span>
<span class="sd">    Requires electricity to power&quot;&quot;&quot;</span>

    <span class="n">pickup_position</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Position</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">drop_position</span><span class="p">:</span> <span class="n">Position</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span></div>



<div class="viewcode-block" id="Filtered">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Filtered">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Filtered</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">filter</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></div>



<div class="viewcode-block" id="UndergroundBelt">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.UndergroundBelt">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">UndergroundBelt</span><span class="p">(</span><span class="n">TransportBelt</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An underground section of transport belt.&quot;&quot;&quot;</span>

    <span class="n">is_input</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">connected_to</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span></div>



<div class="viewcode-block" id="MiningDrill">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.MiningDrill">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">MiningDrill</span><span class="p">(</span><span class="n">StaticEntity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for mining drills that extract resources.</span>
<span class="sd">    The direction of the drill is where the drop_position is oriented towards&quot;&quot;&quot;</span>

    <span class="n">drop_position</span><span class="p">:</span> <span class="n">Position</span>
    <span class="n">resources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Ingredient</span><span class="p">]</span></div>



<div class="viewcode-block" id="ElectricMiningDrill">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.ElectricMiningDrill">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">ElectricMiningDrill</span><span class="p">(</span><span class="n">MiningDrill</span><span class="p">,</span> <span class="n">Electric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An electrically-powered mining drill.&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="k">pass</span></div>



<div class="viewcode-block" id="BurnerInserter">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.BurnerInserter">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">BurnerInserter</span><span class="p">(</span><span class="n">Inserter</span><span class="p">,</span> <span class="n">BurnerType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An inserter powered by burnable fuel.&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">pass</span></div>



<div class="viewcode-block" id="BurnerMiningDrill">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.BurnerMiningDrill">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">BurnerMiningDrill</span><span class="p">(</span><span class="n">MiningDrill</span><span class="p">,</span> <span class="n">BurnerType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A mining drill powered by burnable fuel.&quot;&quot;&quot;</span>

    <span class="n">_width</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">_height</span> <span class="o">=</span> <span class="mi">2</span></div>



<div class="viewcode-block" id="Ammo">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Ammo">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Ammo</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">magazine_size</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">reload_time</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span></div>



<div class="viewcode-block" id="GunTurret">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.GunTurret">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">GunTurret</span><span class="p">(</span><span class="n">StaticEntity</span><span class="p">):</span>
    <span class="n">turret_ammo</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">kills</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span></div>



<div class="viewcode-block" id="AssemblingMachine">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.AssemblingMachine">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">AssemblingMachine</span><span class="p">(</span><span class="n">StaticEntity</span><span class="p">,</span> <span class="n">Electric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A machine that crafts items from ingredients.</span>
<span class="sd">    Requires power to operate&quot;&quot;&quot;</span>

    <span class="n">recipe</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Recipe</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Prototype</span>
    <span class="n">assembling_machine_input</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>
    <span class="n">assembling_machine_output</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>
    <span class="n">assembling_machine_modules</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span></div>



<div class="viewcode-block" id="FluidHandler">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.FluidHandler">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">FluidHandler</span><span class="p">(</span><span class="n">StaticEntity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for entities that handle fluids&quot;&quot;&quot;</span>

    <span class="n">connection_points</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Position</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">fluid_box</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">fluid_systems</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span></div>



<div class="viewcode-block" id="AdvancedAssemblingMachine">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.AdvancedAssemblingMachine">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">AdvancedAssemblingMachine</span><span class="p">(</span><span class="n">FluidHandler</span><span class="p">,</span> <span class="n">AssemblingMachine</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A second and third tier assembling machine that can handle fluids.</span>
<span class="sd">    Requires power to operate</span>
<span class="sd">    A recipe first needs to be set and then the input fluid source can be connected with pipes&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span></div>



<div class="viewcode-block" id="MultiFluidHandler">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.MultiFluidHandler">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">MultiFluidHandler</span><span class="p">(</span><span class="n">StaticEntity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class for entities that handle multiple fluid types.&quot;&quot;&quot;</span>

    <span class="n">input_fluids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">output_fluids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">input_connection_points</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">IndexedPosition</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">output_connection_points</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">IndexedPosition</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">fluid_box</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">fluid_systems</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span></div>



<div class="viewcode-block" id="FilterInserter">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.FilterInserter">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">FilterInserter</span><span class="p">(</span><span class="n">Inserter</span><span class="p">,</span> <span class="n">Filtered</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A inserter that only moves specific items&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span></div>



<div class="viewcode-block" id="ChemicalPlant">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.ChemicalPlant">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">ChemicalPlant</span><span class="p">(</span><span class="n">MultiFluidHandler</span><span class="p">,</span> <span class="n">AssemblingMachine</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a chemical plant that processes fluid recipes.</span>
<span class="sd">    Requires powering and accepts input fluids (from storage tanks etc) and solids (with inserters)</span>
<span class="sd">    Outputs either:</span>
<span class="sd">        solids (battery, plastic) that need to be extracted with inserters</span>
<span class="sd">        fluids (sulfuric acid, oil) that need to be extracted with pipes</span>
<span class="sd">    IMPORTANT: First a recipe needs to be set and then the fluid sources can be connected to the plant&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="k">pass</span></div>



<div class="viewcode-block" id="OilRefinery">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.OilRefinery">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">OilRefinery</span><span class="p">(</span><span class="n">MultiFluidHandler</span><span class="p">,</span> <span class="n">AssemblingMachine</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An oil refinery for processing crude oil into products.</span>
<span class="sd">    Requires powering and accepts input fluids (from pumpjacks, storage tanks etc) and solids</span>
<span class="sd">    First a recipe needs to be set and then the fluid sources can be connected to the refinery&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">5</span></div>



<div class="viewcode-block" id="PumpJack">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.PumpJack">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">PumpJack</span><span class="p">(</span><span class="n">MiningDrill</span><span class="p">,</span> <span class="n">FluidHandler</span><span class="p">,</span> <span class="n">Electric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A pump jack for extracting crude oil. Requires electricity.</span>
<span class="sd">    This needs to be placed on crude oil and oil needs to be extracted with pipes</span>
<span class="sd">    Oil can be sent to a storage tank, oil refinery or a chemical plant</span>
<span class="sd">    Oil can also be sent to assmbling machine to be made into oil barrels</span>
<span class="sd">    Important: The PumpJack needs to be placed on exact crude oil tiles</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="k">pass</span></div>



<div class="viewcode-block" id="SolarPanel">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.SolarPanel">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">SolarPanel</span><span class="p">(</span><span class="n">ElectricalProducer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A solar panel for generating power from sunlight.</span>
<span class="sd">    This entity generated power during the day</span>
<span class="sd">    Thus it can be directly connected to a entity to power it&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span></div>



<div class="viewcode-block" id="Boiler">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Boiler">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Boiler</span><span class="p">(</span><span class="n">FluidHandler</span><span class="p">,</span> <span class="n">BurnerType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A boiler that heats water into steam.&quot;&quot;&quot;</span>

    <span class="n">steam_output_point</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Position</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span></div>



<div class="viewcode-block" id="HeatExchanger">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.HeatExchanger">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">HeatExchanger</span><span class="p">(</span><span class="n">Boiler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A nuclear heat exchanger that converts water to steam.&quot;&quot;&quot;</span></div>



<div class="viewcode-block" id="Generator">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Generator">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Generator</span><span class="p">(</span><span class="n">FluidHandler</span><span class="p">,</span> <span class="n">StaticEntity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A steam generator that produces electricity.&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">5</span></div>



<div class="viewcode-block" id="Pump">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Pump">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Pump</span><span class="p">(</span><span class="n">FluidHandler</span><span class="p">,</span> <span class="n">Electric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An electrically-powered fluid pump.&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="k">pass</span></div>



<div class="viewcode-block" id="OffshorePump">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.OffshorePump">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">OffshorePump</span><span class="p">(</span><span class="n">FluidHandler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A pump that extracts water from water tiles.</span>
<span class="sd">    Can be used in power generation setups and to supply water to chemical plants and oil refineries.&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="k">pass</span></div>



<div class="viewcode-block" id="ElectricityPole">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.ElectricityPole">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">ElectricityPole</span><span class="p">(</span><span class="n">Entity</span><span class="p">,</span> <span class="n">Electric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A power pole for electricity distribution.&quot;&quot;&quot;</span>

    <span class="n">flow_rate</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">electrical_id</span></div>



<div class="viewcode-block" id="Furnace">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Furnace">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Furnace</span><span class="p">(</span><span class="n">Entity</span><span class="p">,</span> <span class="n">BurnerType</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A furnace for smelting items&quot;&quot;&quot;</span>

    <span class="n">furnace_source</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>
    <span class="n">furnace_result</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span></div>



<div class="viewcode-block" id="ElectricFurnace">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.ElectricFurnace">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">ElectricFurnace</span><span class="p">(</span><span class="n">Entity</span><span class="p">,</span> <span class="n">Electric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An electrically-powered furnace.&quot;&quot;&quot;</span>

    <span class="n">furnace_source</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>
    <span class="n">furnace_result</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span></div>



<div class="viewcode-block" id="Chest">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Chest">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Chest</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A storage chest.&quot;&quot;&quot;</span>

    <span class="n">inventory</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span></div>



<div class="viewcode-block" id="StorageTank">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.StorageTank">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">StorageTank</span><span class="p">(</span><span class="n">FluidHandler</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A tank for storing fluids.</span>
<span class="sd">    Can be used for inputs and outputs of chemical plants and refineries.</span>
<span class="sd">    Also can store water from offshore pumps.&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span></div>



<div class="viewcode-block" id="RocketSilo">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.RocketSilo">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">RocketSilo</span><span class="p">(</span><span class="n">StaticEntity</span><span class="p">,</span> <span class="n">Electric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A rocket silo that can build and launch rockets.&quot;&quot;&quot;</span>

    <span class="n">rocket_parts</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Number of rocket parts currently assembled</span>
    <span class="n">rocket_inventory</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>  <span class="c1"># Holds satellite or other payload</span>
    <span class="n">rocket_progress</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># Progress of current rocket construction (0-100)</span>
    <span class="n">launch_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Number of successful launches</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">9</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">9</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">RocketSilo(position=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="si">}</span><span class="s2">, status=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;rocket_parts=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">rocket_parts</span><span class="si">}</span><span class="s2">, rocket_progress=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">rocket_progress</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%, &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;launch_count=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">launch_count</span><span class="si">}</span><span class="s2">)&quot;</span>
        <span class="p">)</span></div>



<div class="viewcode-block" id="Rocket">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Rocket">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Rocket</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A rocket that can be launched from a silo.&quot;&quot;&quot;</span>

    <span class="n">payload</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Inventory</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">launch_progress</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>  <span class="c1"># Progress of launch sequence (0-100)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">payload_str</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;, payload=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">payload</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">payload</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Rocket(status=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">, launch_progress=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">launch_progress</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%</span><span class="si">{</span><span class="n">payload_str</span><span class="si">}</span><span class="s2">)&quot;</span></div>



<div class="viewcode-block" id="Lab">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Lab">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Lab</span><span class="p">(</span><span class="n">Entity</span><span class="p">,</span> <span class="n">Electric</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A research laboratory.&quot;&quot;&quot;</span>

    <span class="n">lab_input</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>
    <span class="n">lab_modules</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>
    <span class="n">research</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># Technology</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">3</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="kn">from</span><span class="w"> </span><span class="nn">fle.env.game_types</span><span class="w"> </span><span class="kn">import</span> <span class="n">technology_by_name</span>

        <span class="n">research_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">research</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">research</span> <span class="ow">in</span> <span class="n">technology_by_name</span><span class="p">:</span>
            <span class="n">research_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;research=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">research</span><span class="si">}</span><span class="s2">, &quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">Lab(lab_input=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">lab_input</span><span class="si">}</span><span class="s2">, status=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">research_string</span><span class="si">}</span><span class="s2">electrical_id=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">electrical_id</span><span class="si">}</span><span class="s2">)&quot;</span></div>



<div class="viewcode-block" id="Pipe">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Pipe">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Pipe</span><span class="p">(</span><span class="n">Entity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A pipe for fluid transport&quot;&quot;&quot;</span>

    <span class="n">fluidbox_id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">flow_rate</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">contents</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">fluid</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span></div>



<div class="viewcode-block" id="Reactor">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.Reactor">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Reactor</span><span class="p">(</span><span class="n">StaticEntity</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A nuclear reactor&quot;&quot;&quot;</span>

    <span class="n">_height</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">_width</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">5</span></div>



<div class="viewcode-block" id="EntityGroup">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.EntityGroup">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">EntityGroup</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">EntityStatus</span> <span class="o">=</span> <span class="n">EntityStatus</span><span class="o">.</span><span class="n">NORMAL</span>
    <span class="n">position</span><span class="p">:</span> <span class="n">Position</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;entity-group&quot;</span></div>



<div class="viewcode-block" id="WallGroup">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.WallGroup">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">WallGroup</span><span class="p">(</span><span class="n">EntityGroup</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A wall&quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;wall-group&quot;</span>
    <span class="n">entities</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Entity</span><span class="p">]</span></div>



<div class="viewcode-block" id="BeltGroup">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.BeltGroup">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">BeltGroup</span><span class="p">(</span><span class="n">EntityGroup</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A connected group of transport belts.&quot;&quot;&quot;</span>

    <span class="n">belts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TransportBelt</span><span class="p">]</span>
    <span class="n">inputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Entity</span><span class="p">]</span>
    <span class="n">outputs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Entity</span><span class="p">]</span>
    <span class="n">inventory</span><span class="p">:</span> <span class="n">Inventory</span> <span class="o">=</span> <span class="n">Inventory</span><span class="p">()</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;belt-group&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">belt_summary</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">belts</span><span class="p">)</span><span class="si">}</span><span class="s2"> belts]&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">BeltGroup(inputs=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">inputs</span><span class="si">}</span><span class="s2">, outputs=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">outputs</span><span class="si">}</span><span class="s2">, inventory=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">inventory</span><span class="si">}</span><span class="s2">, status=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">, belts=</span><span class="si">{</span><span class="n">belt_summary</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span></div>



<div class="viewcode-block" id="PipeGroup">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.PipeGroup">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">PipeGroup</span><span class="p">(</span><span class="n">EntityGroup</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A connected group of pipes.&quot;&quot;&quot;</span>

    <span class="n">pipes</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Pipe</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;pipe-group&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">pipe_summary</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pipes</span><span class="p">)</span><span class="si">}</span><span class="s2"> pipes]&quot;</span>
        <span class="n">fluid_suffix</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipes</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fluid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fluid</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">fluid_suffix</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;fluid=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">pipes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">fluid</span><span class="si">}</span><span class="s2"> &quot;</span>
        <span class="n">positions</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;(x=</span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s2">,y=</span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s2">)&quot;</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">pipes</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">positions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">6</span><span class="p">:</span>
            <span class="n">positions</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;...&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">positions</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
        <span class="n">pipe_summary</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">positions</span><span class="p">)</span><span class="si">}</span><span class="s2">]&quot;</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n\t</span><span class="s2">PipeGroup(fluid_system=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">fluid_suffix</span><span class="si">}</span><span class="s2">position=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">position</span><span class="si">}</span><span class="s2">, status=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="si">}</span><span class="s2">, pipes=</span><span class="si">{</span><span class="n">pipe_summary</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span></div>



<div class="viewcode-block" id="ElectricityGroup">
<a class="viewcode-back" href="../../../api/modules/fle.env.entities.html#fle.env.entities.ElectricityGroup">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">ElectricityGroup</span><span class="p">(</span><span class="n">EntityGroup</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a connected power network.&quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;electricity-group&quot;</span>
    <span class="n">poles</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">ElectricityPole</span><span class="p">]</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">positions</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;(x=</span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s2">,y=</span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">position</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s2">)&quot;</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">poles</span><span class="p">]</span>
        <span class="n">max_flow_rate</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="nb">max</span><span class="p">([</span><span class="n">p</span><span class="o">.</span><span class="n">flow_rate</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">poles</span><span class="p">]))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">positions</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">6</span><span class="p">:</span>
            <span class="n">positions</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;...&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">positions</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
        <span class="n">pole_summary</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;[</span><span class="si">{</span><span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">positions</span><span class="p">)</span><span class="si">}</span><span class="s2">]&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">ElectricityGroup(id=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">, poles=</span><span class="si">{</span><span class="n">pole_summary</span><span class="si">}</span><span class="s2">, voltage=</span><span class="si">{</span><span class="n">max_flow_rate</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__repr__</span><span class="p">()</span></div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, FLE Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>