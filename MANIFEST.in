# Include license and readme
include LICENSE
include README.md
include CONTRIBUTING.md
include pyproject.toml
include setup.py

# Include package utilities
recursive-include pkg_utils *.py

# Include documentation
recursive-include docs *.html *.css *.js *.png *.jpg *.jpeg *.gif *.svg *.ico *.mp4 *.webp
recursive-exclude docs/leaderboard/node_modules *

# Include the factorio_learning_environment package (created during build)
recursive-include factorio_learning_environment *

# Include the source files that should be copied into the package
graft agents
graft env
graft eval
graft data
graft server

# Exclude unnecessary files - honoring .gitignore
global-exclude *.py[cod] __pycache__ *.so *.dylib .DS_Store
global-exclude *.git* *.ipynb_checkpoints* 
global-exclude .env venv/ venv_py311/ env/ .venv/

# Exclude all image files
global-exclude *.png *.jpg *.jpeg *.gif *.bmp *.tiff *.webp *.svg *.ico
prune log
prune dist
prune build
prune *.egg-info

# Additional exclusions based on .gitignore
prune */.claude
prune client/log
prune client/unscored_log
prune src/log
prune environment/src/.neptune
prune environment/src/skills/bottom_up/skill_generation_logs
global-exclude *.jsonl

# Explicitly exclude large directories that are causing build issues
prune data/plans/factorio_guides
prune data/plans/factorio_guides/processed
prune data/plans/factorio_guides/raw
prune data/plans/factorio_guides/visited

# Exclude other large build artifacts and data directories
prune dist
prune build
prune *.egg-info
prune data/blueprints_to_policies/blueprints/decoded
prune data/blueprints_to_policies/blueprints/mining
prune data/blueprints_to_policies/blueprints/electricity
prune data/blueprints_to_policies/blueprints/manufacturing
prune data/blueprints_to_policies/blueprints/misc
prune data/encoded
prune data/full
prune data/place_next_to_connect
prune data/refactor
prune data/refactor2
prune environment/src/skills/expanded_skills
prune environment/src/skills/ground_truth_skills
prune environment/src/datasetgen/mcts/plots
prune environment/src/search/mcts/runs
prune data/icons
prune environment/src/search/beam/summary_cache
prune environment/src/search/independent_runs/summary_cache
prune data/screenshots
prune src/search/plots
prune eval/open/.neptune
prune eval/open/plots/icons
prune eval/open/plots/production_volumes
prune eval/open/mcts/runs
prune eval/open/independent_runs/summary_cache
prune eval/open/beam/summary_cache
prune eval/open/plots
prune eval/open/summary_cache

# Exclude large files by type
global-exclude *.mp4
global-exclude *.tar.gz
global-exclude *.whl
global-exclude *.zip
global-exclude *.data
global-exclude *.db
global-exclude *.pkl

# Exclude large files and directories to reduce package size
prune data/_screenshots
prune data/screenshots
prune data/icons
prune docs/assets/videos
prune docs/assets/images
prune eval/open/summary_cache
prune cluster/docker/mods
prune agents/voyager/summary_cache